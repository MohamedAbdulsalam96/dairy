{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-04-25 14:40:45.928085",
 "css": ".print-format{\n    margin:0px;\n    padding:10px;\n}\ntable{\n    width:100%;\n    border:1px solid;\n}\n\ntd{\n    height:10px;\n}\n.print-format th{\n    color:black;\n}\nspan{\n    padding-left:5px;\n    font-size:10px;\n}\ndiv{\n    width:100%;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set a %}{% endset %}\n   {% set c=frappe.db.get_value(\"Bank Account\",{\"party_type\":\"Supplier\",\"party\":doc.supplier},[\"name\"] )%}\n   {% if c %}\n   \n   {% set a=frappe.get_doc(\"Bank Account\",{\"party_type\":\"Supplier\",\"party\":doc.supplier})%}\n   {% endif %}\n   \n   {% set m %}{% endset %}\n   {% if doc.supplier%}\n   {% set m=frappe.get_doc(\"Milk Entry\",{\"member\":doc.supplier})%}\n   {% endif %}\n\n    <table style=\"width:100%;border:1px solid black;border-bottom:none;\">\n    <tr>\n        <td>\n            {% if letter_head %}\n                {{ letter_head }}\n            {% endif %}\n        </td>\n    </tr>\n    </table>\n     <table style=\"border-top:none;border-bottom:none;\"><tr><th style=\"width:100%;text-align:center;\">\n        <b style=\"font-size:10px;\"> Milk Purchase Bill</b>\n     </th></tr></table> \n    <table style=\"width:100%;\">\n        <tr style=\"width:100%;padding-left:5px;\">\n           <td>\n            <b> <span style=\"padding-left:10px;\">Payment Period</span></b>\n          </td> \n          <td style=\"width:50%;padding-left:5px;\">\n          <b ><span style=\"padding-left:230px;\">Print Date: {{frappe.utils.formatdate(frappe.utils.nowdate(),\"dd-mm-yyyy\")}}</span></b>\n        </td>\n        </tr>\n       \n    </table>\n    \n    <table style=\"width:100%;border:1px solid;border-bottom:none;border-top:none;\">\n        <tr style=\"width:100%;padding-left:5px;\">\n           <td>\n             {% set s %}{% endset %}\n       {% if doc.supplier %}\n       {% set s = frappe.get_doc(\"Supplier\",doc.supplier) %}\n       {% endif %}\n      \n          <span style=\"padding-left:5px;\">Code No:</span> \n          {% if doc.supplier %}\n          <span style=\"padding-left:5px;\">{{s.name}}</span><br>\n          {% endif %}\n          <span style=\"padding-left:5px;\">Bank Name:</span> \n          {% if a.bank %}\n          <span style=\"padding-left:5px;\">{{a.bank}}</span><br>\n          {% endif %}\n          </td> \n          <td style=\"width:50%;padding-left:5px;\">\n          <span style=\"padding-left:5px;\">Name:</span>\n          {% if doc.supplier %}\n          <span style=\"padding-left:5px;\">{{s.supplier_name}}</span><br>\n          {% endif %}\n          <span style=\"padding-left:5px;\">Mobile No:</span> \n          <span style=\"padding-left:5px;\"></span><br>\n        </td>\n        </tr>\n       \n    </table>\n    \n    <table style=\"width:100%;border:1px solid black;border-bottom:none;\">\n        <tr>\n            <th style=\"border-left:1px solid;text-align:left;font-size:10px;color:black;width:2px;\">Sr</th>\n            <th style=\"border-left:1px solid;text-align:left;font-size:10px;color:black;width:12px;\">Date</th>\n            <th style=\"border-left:1px solid;text-align:left;font-size:10px;color:black;width:4px;\">Shift</th>\n            <th style=\"border-left:1px solid;text-align:left;font-size:10px;color:black;width:1px;\">Ltr</th>\n            <th style=\"border-left:1px solid;text-align:left;font-size:10px;color:black;width:1px;\">Fat</th>\n            <th style=\"border-left:1px solid;text-align:leftt;font-size:10px;color:black;width:1px;\">SNF</th>\n            <th style=\"border-left:1px solid;text-align:left;font-size:10px;color:black;width:1px;\">Rate</th>\n            <th style=\"border-left:1px solid;text-align:leftt;font-size:10px;color:black;width:3px;\">Amount</th>\n        </tr>\n        {% set abc = \"\" %}\n        {%-for itm in doc.items-%}\n              \n     {% set milk %}{% endset %}\n       {% if itm.purchase_receipt %}\n       {% set r = frappe.get_doc(\"Purchase Receipt\",itm.purchase_receipt) %}\n       {% set milk = frappe.get_doc(\"Milk Entry\",r.milk_entry) %}\n       \n       {% endif %}\n       \n      \n     \n        <tr style=\"border:1px solid black;\">\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:2px;\">{{itm.idx}}</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:12px;\">{{r.get_formatted('posting_date')}}</td>\n            <td style=\"border-left:1px solid;text-align:left;font-size:10px;width:5px;\">{{r.shift}}</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px\">{{itm.qty}}</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px;\">{{itm.fat_per}}</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px;\">{{itm.snf_per}}</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px;\">{{itm.rate}}</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:3px;\">{{itm.get_formatted(\"amount\")}}</td>\n        </tr>\n        {%-endfor-%}\n        {{abc}}\n        <tr style=\"border:1px solid;\">\n            <td style=\"border-left:1px solid;text-align:left;font-size:10px;width:2px;\"></td>\n            <td style=\"border-left:1px solid;text-align:left;font-size:10px;width:12px;\">Total</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:5px;\">{{doc.total_qty}}</td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px;\"></td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px;\"></td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px;\"></td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:1px;\"></td>\n            <td style=\"border-left:1px solid;text-align:right;font-size:10px;width:3px;\">{{doc.get_formatted(\"total\")}}</td>\n        </tr>\n        \n    </table>\n    <table style=\"width:100%;border:1px solid;border-bottom:none;border-top:none;\">\n        <tr style=\"width:100%;padding-left:5px;\">\n           <td style=\"border:1px solid;border-bottom:none;border-top:none;\">\n            <b> <span style=\"padding-left:100px;\">Pay Amount</span></b>\n          </td> \n          <td style=\"width:50%;padding-left:5px;\">\n          <b><span style=\"padding-left:100px;\">Add Ded/Amount</span></b>\n        </td>\n        </tr>\n       \n    </table>\n    <table style=\"width:100%;border:1px solid;\">\n        <tr style=\"width:100%;padding-left:5px;\">\n           <td style=\"border:1px solid;\">\n             {% set s %}{% endset %}\n       {% if doc.supplier %}\n       {% set s = frappe.get_doc(\"Supplier\",doc.supplier) %}\n       {% endif %}\n       \n          <span style=\"padding-left:5px;\">Commission Head:</span> \n          <span style=\"padding-left:5px;\"></span><br>\n          <span style=\"padding-left:5px;\">Bill Difference:</span> \n          <span style=\"padding-left:5px;\"></span><br>\n           <span style=\"padding-left:5px;\">Difference Rate:</span> \n          <span style=\"padding-left:5px;\"></span><br>\n           <span style=\"padding-left:5px;\">Salary:</span> \n          <span style=\"padding-left:5px;\"></span><br>\n          \n          </td> \n          <td style=\"width:50%;padding-left:5px;\">\n              {% set var = {'jcase': 0} %}\n\n\n                     {%- for item in doc.items -%}\n                    {%set a=frappe.get_doc(\"Milk Entry\",item.milk_entry)%}\n                    {% if var.update({'jcase': var.jcase + a.incentive}) %}{% endif %}\n\n        {%- endfor -%}\n          <span style=\"padding-left:5px;\">Bonus Amount: {{var.jcase}}</span>\n         \n         <span style=\"padding-left:5px;\"></span>\n          <span style=\"padding-left:5px;\"></span><br>\n        </td>\n        </tr>\n       \n    </table>\n    <table style=\"width:100%;border:1px solid;border-top:none;\">\n        <tr style=\"width:100%;padding-left:5px;\">\n           <td style=\"width:40%;\">\n            <b> <span style=\"padding-left:5px;\">Total Amount: {{doc.get_formatted('rounded_total')}}</span></b>\n          </td> \n          <td style=\"width:30%;padding-left:5px;\">\n               {% set vars = {'jcase': 0} %}\n\n\n                     {%- for item in doc.items -%}\n                    {%set a=frappe.get_doc(\"Milk Entry\",item.milk_entry)%}\n                    {% if vars.update({'jcase': vars.jcase + a.fat_deduction+a.snf_deduction}) %}{% endif %}\n\n        {%- endfor -%}\n              \n          <b><span style=\"padding-left:5px;\">Deduction :{{vars.jcase}} </span></b>\n        </td>\n        <td style=\"width:30%;padding-left:5px;\">\n          <b><span style=\"padding-left:5px;\">Net Pay: {{doc.get_formatted('rounded_total')}}</span></b>\n        </td>\n        </tr>\n       \n    </table>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2023-04-26 22:40:43.741091",
 "modified_by": "Administrator",
 "module": "Milk Entry",
 "name": "Farmer Bill And DCS Wise Milk Ledger",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}